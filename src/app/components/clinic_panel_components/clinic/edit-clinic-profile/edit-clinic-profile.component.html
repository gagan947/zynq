<div class="ct_px_30 mt-4 pb-4">
      <div class="container-fluid">
            <div class="row">
                  <div class="col-md-12">
                        <div class="d-flex align-items-center gap-3 mb-5">
                              <a (click)="location.back()" class="ct_back_icon"><i
                                          class="fa-solid fa-chevron-left"></i></a>
                              <h4 class="ct_fs_24 ct_black_text mb-0"><span class="ct_fw_600">Clinic Profile </span>
                                    <span class="ct_text_op_07 ct_fs_16"> /
                                          Edit Clinic Profile</span>
                              </h4>
                        </div>
                        <form id="msform" [formGroup]="Form" (ngSubmit)="onSubmit()">
                              <!-- progressbar -->
                              <ul id="ct_form_progressbar">
                                    <li *ngFor="let step of steps; let i = index" [id]="step.id" (click)="goTo(i)"
                                          [class.active]="i <= currentStep">
                                          {{ step.label }}
                                    </li>
                              </ul>

                              <fieldset *ngIf="currentStep == 0">
                                    <div class="ct_white_bg ct_p_40 ct_border_clr_e6e6e6 ct_border_radius_15 mb-4">
                                          <h5 class="ct_fs_20 ct_ff_ambit_semibold mb-3">Basic Clinic Information</h5>
                                          <div class="form-group mb-4">
                                                <label for="" class="mb-2 ct_text_black">Clinic Name <span
                                                            class="ct_red_text">*</span></label>
                                                <input type="text" class="form-control ct_input"
                                                      placeholder="Enter clinic name" formControlName="clinic_name">
                                                <span
                                                      *ngIf="Form.controls['clinic_name'].invalid && Form.controls['clinic_name'].touched">
                                                      <span *ngIf="Form.controls['clinic_name'].errors?.['required']"
                                                            class="ct_text_red mt-2">
                                                            Clinic name is required.
                                                      </span>
                                                </span>
                                          </div>
                                          <div class="form-group mb-4">
                                                <label for="" class="mb-2 ct_text_black">IVO Registration Number
                                                </label>
                                                <input type="text" class="form-control ct_input"
                                                      placeholder="Enter IVO Registration Number"
                                                      formControlName="ivo_registration_number">
                                                <span
                                                      *ngIf="Form.controls['ivo_registration_number'].invalid && Form.controls['ivo_registration_number'].touched">
                                                      <span *ngIf="Form.controls['ivo_registration_number'].errors?.['required']"
                                                            class="ct_text_red mt-2">
                                                            IVO registration number is required.
                                                      </span>
                                                </span>
                                          </div>
                                          <div class="form-group mb-4">
                                                <label for="" class="mb-2 ct_text_black">HSA Id </label>
                                                <input type="text" class="form-control ct_input"
                                                      placeholder="Enter HSA Id" formControlName="hsa_id">
                                                <span
                                                      *ngIf="Form.controls['hsa_id'].invalid && Form.controls['hsa_id'].touched">
                                                      <span *ngIf="Form.controls['hsa_id'].errors?.['required']"
                                                            class="ct_text_red mt-2">
                                                            HSA id is required.
                                                      </span>
                                                </span>
                                          </div>
                                          <div class="form-group mb-4">
                                                <label for="" class="mb-2 ct_text_black">Description<span
                                                            class="ct_red_text">*</span></label>
                                                <textarea type="text" class="form-control ct_input h-auto" rows="4"
                                                      placeholder="Enter description"
                                                      formControlName="clinic_description"></textarea>
                                                <span
                                                      *ngIf="Form.controls['clinic_description'].invalid && Form.controls['clinic_description'].touched">
                                                      <span *ngIf="Form.controls['clinic_description'].errors?.['required']"
                                                            class="ct_text_red mt-2">
                                                            Description is required.
                                                      </span>
                                                      <span *ngIf="Form.controls['clinic_description'].errors?.['maxlength']"
                                                            class="ct_text_red mt-2">
                                                            Full description is too long.
                                                      </span>
                                                </span>
                                          </div>

                                          <!-- <div class="form-group mb-4">
                                                <label for="" class="mb-2 ct_text_black">Upload Cover Image</label>
                                                <div class="">
                                                      <div *ngIf="!coverPreview" class="ct_upload_product_main"
                                                            (click)="coverInput.click()">
                                                            <svg width="33" height="33" viewBox="0 0 33 33" fill="none"
                                                                  xmlns="http://www.w3.org/2000/svg">
                                                                  <path d="M5.87174 22.0167C4.26376 20.9403 3.20508 19.1073 3.20508 17.027C3.20508 13.9023 5.59376 11.3354 8.64473 11.0528C9.26883 7.25653 12.5654 4.36035 16.5384 4.36035C20.5114 4.36035 23.808 7.25653 24.4321 11.0528C27.4831 11.3354 29.8717 13.9023 29.8717 17.027C29.8717 19.1073 28.8131 20.9403 27.2051 22.0167M11.2051 21.6937L16.5384 16.3604M16.5384 16.3604L21.8717 21.6937M16.5384 16.3604V28.3604"
                                                                        stroke="#9CA3AF" stroke-width="2.66667"
                                                                        stroke-linecap="round"
                                                                        stroke-linejoin="round" />
                                                            </svg>

                                                            <p class="text-center ct_fs_18 ct_text_op_07 mb-0">Upload
                                                                  cover image here</p>
                                                            <small
                                                                  class="text-center d-block ct_text_9CA3AF py-2">(190*135)</small>
                                                            <label>
                                                                  <div class="ct_browse_btn">
                                                                        <span>Browse Files</span>
                                                                  </div>
                                                            </label>
                                                      </div>
                                                      <input type="file" #coverInput class="d-none" accept="image/*"
                                                            formControlName="coverImg" (change)="onCoverImage($event)">
                                                      <div class="ct_uploaded_img123 position-relative w-100 ct_upload_product_main"
                                                            *ngIf="coverPreview">
                                                            <div class="ct_uploaded_img_w">
                                                                  <img [src]="coverPreview" alt=""
                                                                        style="object-fit: contain;" />
                                                                  <i class="fa-solid fa-xmark"
                                                                        (click)="removeCoverImage()"></i>
                                                            </div>
                                                      </div>

                                                </div>
                                          </div> -->

                                          <div class="form-group mb-4">
                                                <label for="" class="mb-2 ct_text_black">Logo</label>
                                                <div class="">
                                                      <div *ngIf="!logoPreview" class="ct_upload_product_main"
                                                            (click)="logoInput.click()">
                                                            <svg width="33" height="33" viewBox="0 0 33 33" fill="none"
                                                                  xmlns="http://www.w3.org/2000/svg">
                                                                  <path d="M5.87174 22.0167C4.26376 20.9403 3.20508 19.1073 3.20508 17.027C3.20508 13.9023 5.59376 11.3354 8.64473 11.0528C9.26883 7.25653 12.5654 4.36035 16.5384 4.36035C20.5114 4.36035 23.808 7.25653 24.4321 11.0528C27.4831 11.3354 29.8717 13.9023 29.8717 17.027C29.8717 19.1073 28.8131 20.9403 27.2051 22.0167M11.2051 21.6937L16.5384 16.3604M16.5384 16.3604L21.8717 21.6937M16.5384 16.3604V28.3604"
                                                                        stroke="#9CA3AF" stroke-width="2.66667"
                                                                        stroke-linecap="round"
                                                                        stroke-linejoin="round" />
                                                            </svg>

                                                            <p class="text-center ct_fs_18 ct_text_op_07 mb-0">Upload
                                                                  your image here</p>
                                                            <small class="text-center d-block ct_text_9CA3AF py-2">PNG,
                                                                  JPG up to
                                                                  5MB</small>
                                                            <small
                                                                  class="text-center d-block ct_text_9CA3AF py-2">(190*135)</small>
                                                            <label>
                                                                  <div class="ct_browse_btn">
                                                                        <span>Browse Files</span>
                                                                  </div>
                                                            </label>
                                                      </div>
                                                      <input type="file" #logoInput class="d-none" accept="image/*"
                                                            formControlName="logo" (change)="onLogoImage($event)">
                                                      <!-- <span
                                                            *ngIf="Form.controls['logo'].invalid && Form.controls['logo'].touched">
                                                            <span *ngIf="Form.controls['logo'].errors?.['required']"
                                                                  class="ct_text_red mt-2">
                                                                  Logo is required.
                                                            </span>
                                                      </span> -->
                                                      <div class="ct_uploaded_img123 position-relative w-100 ct_upload_product_main"
                                                            *ngIf="logoPreview">
                                                            <div class="ct_uploaded_img_w">
                                                                  <img [src]="logoPreview" alt=""
                                                                        style="object-fit: contain;" />
                                                                  <i class="fa-solid fa-xmark"
                                                                        (click)="removeImage()"></i>
                                                            </div>
                                                      </div>

                                                </div>
                                          </div>
                                          <div class="form-group mb-0">
                                                <label for="" class="mb-2">Upload Clinic Images</label>
                                                <div class="ct_upload_product_main ct_upload_product_main_180">
                                                      <svg width="33" height="33" viewBox="0 0 33 33" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path d="M5.87174 22.0167C4.26376 20.9403 3.20508 19.1073 3.20508 17.027C3.20508 13.9023 5.59376 11.3354 8.64473 11.0528C9.26883 7.25653 12.5654 4.36035 16.5384 4.36035C20.5114 4.36035 23.808 7.25653 24.4321 11.0528C27.4831 11.3354 29.8717 13.9023 29.8717 17.027C29.8717 19.1073 28.8131 20.9403 27.2051 22.0167M11.2051 21.6937L16.5384 16.3604M16.5384 16.3604L21.8717 21.6937M16.5384 16.3604V28.3604"
                                                                  stroke="#9CA3AF" stroke-width="2.66667"
                                                                  stroke-linecap="round" stroke-linejoin="round" />
                                                      </svg>

                                                      <p class="text-center ct_fs_18 ct_text_op_07 mb-0">Upload clinic
                                                            images
                                                            here</p>
                                                      <label for="ct_upload_product">
                                                            <input type="file" name="" id="ct_upload_product"
                                                                  class="d-none" accept="image/*"
                                                                  (change)="onProductImage($event)" multiple>
                                                            <div class="ct_browse_btn">
                                                                  <span>Browse Files</span>
                                                            </div>
                                                      </label>
                                                      <!-- after upload image change url to below image -->
                                                      <img src="assets/img/hunting_knee.png" alt=""
                                                            class="ct_uploaded_img d-none">
                                                </div>
                                                <div class="ct_multiple_img_div ct_custom_scroll">
                                                      @for (item of previewProductImages; track $index) {
                                                      <div class="ct_uploaded_img123 position-relative ">
                                                            <div class="ct_uploaded_img_w">
                                                                  <img [src]="item" alt="" />
                                                                  <i class="fa-solid fa-xmark ct_cursor_pointer"
                                                                        (click)="removeProductImage($index, item)"></i>
                                                            </div>
                                                      </div>
                                                      }
                                                </div>
                                                <!-- <span *ngIf="previewProductImages.length == 0 && submitted">
                                                      <span class="ct_text_red mt-2">
                                                            Please upload product image.
                                                      </span>
                                                </span> -->
                                          </div>
                                    </div>
                                    <button (click)="onSubmit()" type="button"
                                          class="ct_form_next action-button ct_black_btn float-end notranslate"
                                          value="Next" [disabled]="loading">
                                          @if(loading){
                                          <div class="spinner-border" role="status">
                                                <span class="sr-only">Loading...</span>
                                          </div>
                                          }@else {
                                          Update
                                          }
                                    </button>
                                    <button type="button"
                                          class="ct_form_next action-button ct_black_btn float-end mx-1 " value="Next"
                                          (click)="next()">Next</button>
                              </fieldset>
                              <fieldset *ngIf="currentStep == 1">
                                    <div class="ct_white_bg ct_p_40 ct_border_clr_e6e6e6 ct_border_radius_15 mb-4">
                                          <h5 class="ct_fs_20 ct_ff_ambit_semibold mb-3">Location & Contact Details</h5>

                                          <div class="row">
                                                <div class="col-md-6">
                                                      <div class="form-group mb-4">
                                                            <label for="" class="mb-2 ct_text_black">Street Address<span
                                                                        class="ct_red_text">*</span></label>
                                                            <input type="text" class="form-control ct_input"
                                                                  placeholder="Enter street address"
                                                                  formControlName="street_address">
                                                            <span
                                                                  *ngIf="Form.controls['street_address'].invalid && Form.controls['street_address'].touched">
                                                                  <span *ngIf="Form.controls['street_address'].errors?.['required']"
                                                                        class="ct_text_red mt-2">
                                                                        Street address is required.
                                                                  </span>
                                                            </span>
                                                      </div>
                                                </div>
                                                <div class="col-md-6">
                                                      <div class="form-group mb-4">
                                                            <label for="" class="mb-2 ct_text_black">City<span
                                                                        class="ct_red_text">*</span></label>
                                                            <input type="text" class="form-control ct_input"
                                                                  placeholder="Enter city name" formControlName="city">
                                                            <span
                                                                  *ngIf="Form.controls['city'].invalid && Form.controls['city'].touched">
                                                                  <span *ngIf="Form.controls['city'].errors?.['required']"
                                                                        class="ct_text_red mt-2">
                                                                        City is required.
                                                                  </span>
                                                            </span>
                                                      </div>
                                                </div>
                                                <div class="col-md-6">
                                                      <div class="form-group mb-4">
                                                            <label for="" class="mb-2 ct_text_black">State<span
                                                                        class="ct_red_text">*</span></label>
                                                            <input type="text" class="form-control ct_input"
                                                                  placeholder="Enter state name"
                                                                  formControlName="state">
                                                            <span
                                                                  *ngIf="Form.controls['state'].invalid && Form.controls['state'].touched">
                                                                  <span *ngIf="Form.controls['state'].errors?.['required']"
                                                                        class="ct_text_red mt-2">
                                                                        State is required.
                                                                  </span>
                                                            </span>
                                                      </div>

                                                </div>
                                                <div class="col-md-6">
                                                      <div class="form-group mb-4">
                                                            <label for="" class="mb-2 ct_text_black">Zip Code<span
                                                                        class="ct_red_text">*</span></label>
                                                            <input type="text" class="form-control ct_input"
                                                                  placeholder="Enter ZIP code"
                                                                  formControlName="zip_code">
                                                            <span
                                                                  *ngIf="Form.controls['zip_code'].invalid && Form.controls['zip_code'].touched">
                                                                  <span *ngIf="Form.controls['zip_code'].errors?.['required']"
                                                                        class="ct_text_red mt-2">
                                                                        Zip code is required.
                                                                  </span>
                                                            </span>
                                                      </div>
                                                </div>
                                                <div class="col-md-12">
                                                      <div class="form-group mb-4">
                                                            <label for="" class="mb-2 ct_text_black">Map Location<span
                                                                        class="ct_red_text">*</span></label>
                                                            <input type="text" class="form-control ct_input"
                                                                  placeholder="Enter map location"
                                                                  (input)="searchLocation($event)"
                                                                  [value]="selectedLocation">
                                                            <!-- when user enter location then show this div -->
                                                            <div class="ct_map_location_dropdown"
                                                                  *ngIf="locations.length > 0">
                                                                  <ul>
                                                                        @for (item of locations; track $index) {
                                                                        <li (click)="selectLocation(item.description)">
                                                                              {{item.description}}
                                                                        </li>
                                                                        }
                                                                  </ul>
                                                            </div>
                                                            <span>
                                                                  <span *ngIf="!selectedLocation && submitted"
                                                                        class="ct_text_red mt-2">
                                                                        Map location is required.
                                                                  </span>
                                                            </span>
                                                      </div>
                                                </div>
                                                <div class="col-md-6">
                                                      <div class="form-group mb-4">
                                                            <label for="" class="mb-2 ct_text_black">Phone No<span
                                                                        class="ct_red_text">*</span></label>
                                                            <!-- <input type="number" class="form-control ct_input"
                                                                  placeholder="Enter phone number"
                                                                  formControlName="mobile_number"> -->
                                                            <ngx-intl-tel-input
                                                                  [cssClass]="'form-control ct_input w-full'"
                                                                  [enableAutoCountrySelect]="true"
                                                                  [enablePlaceholder]="true" [searchCountryFlag]="false"
                                                                  [onlyCountries]="preferredCountries"
                                                                  [searchCountryField]="[SearchCountryField.Iso2, SearchCountryField.Name]"
                                                                  [selectFirstCountry]="false"
                                                                  [selectedCountryISO]="selectedCountry"
                                                                  [maxLength]="15" [phoneValidation]="true"
                                                                  formControlName="mobile_number"></ngx-intl-tel-input>
                                                            <span
                                                                  *ngIf="Form.controls['mobile_number'].invalid && Form.controls['mobile_number'].touched">
                                                                  <span *ngIf="Form.controls['mobile_number'].errors?.['required']"
                                                                        class="ct_text_red mt-2">
                                                                        Phone number is required.
                                                                  </span>
                                                                  <span *ngIf="Form.controls['mobile_number'].errors?.['validatePhoneNumber']"
                                                                        class="ct_text_red mt-2">
                                                                        Please enter a valid phone number.
                                                                  </span>
                                                            </span>
                                                      </div>
                                                </div>
                                                <div class="col-md-6">
                                                      <div class="form-group mb-4">
                                                            <label for="" class="mb-2 ct_text_black">Email Address<span
                                                                        class="ct_red_text">*</span></label>
                                                            <input type="email" class="form-control ct_input"
                                                                  placeholder="Enter email address"
                                                                  formControlName="email" readonly>
                                                            <span
                                                                  *ngIf="Form.controls['email'].invalid && Form.controls['email'].touched">
                                                                  <span *ngIf="Form.controls['email'].errors?.['required']"
                                                                        class="ct_text_red mt-2">
                                                                        Email is required.
                                                                  </span>
                                                                  <span *ngIf="Form.controls['email'].errors?.['email'] && !Form.controls['email'].errors?.['required']"
                                                                        class="ct_text_red mt-2">
                                                                        Invalid email format.</span>
                                                            </span>
                                                      </div>
                                                </div>
                                                <div class="col-md-12">
                                                      <div class="form-group mb-4">
                                                            <label for="" class="mb-2 ct_text_black">Website URL<span
                                                                        class="ct_red_text">*</span></label>
                                                            <input type="text" class="form-control ct_input"
                                                                  placeholder="Enter website URL"
                                                                  formControlName="website_url">
                                                            <span
                                                                  *ngIf="Form.controls['website_url'].invalid && Form.controls['website_url'].touched">
                                                                  <span *ngIf="Form.controls['website_url'].errors?.['required']"
                                                                        class="ct_text_red mt-2">
                                                                        Website URL is required.
                                                                  </span>
                                                            </span>
                                                      </div>
                                                </div>
                                          </div>

                                    </div>
                                    <!-- <div class="float-end"> -->
                                    <button type="button"
                                          class="ct_form_next action-button  ct_black_btn float-end mx-1 notranslate"
                                          (click)="onSubmit()" [disabled]="loading">
                                          @if(loading){
                                          <div class="spinner-border" role="status">
                                                <span class="sr-only">Loading...</span>
                                          </div>
                                          }@else {
                                          Update
                                          }
                                    </button>
                                    <button type="button" class="ct_form_next action-button ct_black_btn float-end mx-1"
                                          value="Next" (click)="next()">Next</button>
                                    <button type="button"
                                          class="ct_form_next action-button ct_black_btn float-end mx-1 ct_outline_btn"
                                          value="Next" (click)="previous()">Previous</button>

                                    <!-- <button type="button" name="previous"
                                          class="previous action-button-previous ct_outline_btn mx-1 float-end"
                                          value="Previous" (click)="previousStep()">Previous</button> -->

                                    <!-- </div> -->

                              </fieldset>
                              <!-- <fieldset *ngIf="currentStep == 2">
                                    <div class="ct_white_bg ct_p_40 ct_border_clr_e6e6e6 ct_border_radius_15 mb-4">
                                          <h5 class="ct_fs_20 ct_ff_ambit_semibold mb-3">Operation Hours</h5>
                                          <div [formGroup]="clinicTiming">
                                                <div *ngFor="let day of days">
                                                      <div [formGroupName]="day"
                                                            class="row align-items-center ct_border_btm_1 py-3">
                                                            <div class="col-md-3">
                                                                  <p class="mb-0 ct_text_clr_444 text-capitalize">
                                                                        {{ day }}
                                                                  </p>
                                                            </div>
                                                            <div class="col-md-6">
                                                                  <div class="d-flex align-items-center gap-3">
                                                                        <div class="form-group ct_flex_1">
                                                                              <input type="time"
                                                                                    class="form-control ct_input"
                                                                                    formControlName="open">
                                                                              <span *ngIf="hasClinicTimingError(day, 'open', 'required')"
                                                                                    class="ct_text_red mt-2">
                                                                                    Open time is required.
                                                                              </span>
                                                                        </div>
                                                                        <div class="form-group ct_flex_1">
                                                                              <input type="time"
                                                                                    class="form-control ct_input"
                                                                                    formControlName="close">
                                                                              <span *ngIf="hasClinicTimingError(day, 'close', 'required')"
                                                                                    class="ct_text_red mt-2">
                                                                                    Close time is required.
                                                                              </span>
                                                                              <span *ngIf="clinicTiming.get(day)?.errors?.['timeRangeInvalid']"
                                                                                    class="ct_text_red mt-2">
                                                                                    Close time must be after open time.
                                                                              </span>
                                                                        </div>
                                                                  </div>
                                                            </div>
                                                            <div class="col-md-3">
                                                                  <div class="form-group">
                                                                        <div class="form-check">
                                                                              <input class="form-check-input"
                                                                                    type="checkbox"
                                                                                    formControlName="is_closed"
                                                                                    (change)="setClosed(day, $event)">
                                                                              <label class="form-check-label">
                                                                                    Closed
                                                                              </label>
                                                                        </div>
                                                                  </div>
                                                            </div>
                                                      </div>
                                                </div>
                                          </div>
                                    </div>
                                    <button type="button"
                                          class="ct_form_next action-button  ct_black_btn float-end mx-1"
                                          (click)="onSubmit()">Update</button>
                                 <button type="button"
                                          class="previous action-button-previous mx-1 ct_outline_btn float-end"
                                          value="Previous" (click)="previousStep()">Previous</button> 
                                </fieldset> -->
                              <fieldset *ngIf="currentStep == 2">
                                    <div class=" ct_white_bg ct_p_40 ct_border_clr_e6e6e6 ct_border_radius_15 mb-4">
                                          <h5 class="ct_fs_20 ct_ff_ambit_semibold mb-3">
                                                Services & Expertise</h5>
                                          <div class="mb-4">
                                                <label for="" class="mb-2 ct_text_black">Treatments
                                                      Provided<span class="ct_red_text">*</span></label>
                                                <nz-select nzMode="multiple" nzPlaceHolder="Select Treatments"
                                                      class="form-control ct_input h-auto" formControlName="treatments"
                                                      nzNotFoundContent="No Treatments Found">
                                                      @for (item of treatments; track item) {
                                                      <nz-option [nzLabel]="item.name"
                                                            [nzValue]="item.treatment_id"></nz-option>
                                                      }
                                                </nz-select>
                                                <span class="ct_text_red mt-2"
                                                      *ngIf="Form.get('treatments')?.invalid && Form.get('treatments')?.touched">
                                                      Please add at least one treatment.
                                                </span>
                                          </div>
                                          <div class="mb-4">
                                                <label for="" class="mb-2 ct_text_black">Skin
                                                      Type
                                                      Expertise<span class="ct_red_text">*</span>
                                                </label>
                                                <nz-select nzMode="multiple" nzPlaceHolder="Select Skin Types"
                                                      class="form-control ct_input h-auto" formControlName="skin_types"
                                                      nzNotFoundContent="No Skin Types Found">
                                                      @for (item of skintypes; track item) {
                                                      <nz-option [nzLabel]="item.name"
                                                            [nzValue]="item.skin_type_id"></nz-option>
                                                      }
                                                </nz-select>
                                                <span class="ct_text_red mt-2"
                                                      *ngIf="Form.get('skin_types')?.invalid && Form.get('skin_types')?.touched">
                                                      Please add at least one skin type.
                                                </span>
                                          </div>
                                          <div class="mb-4">
                                                <label for="" class="mb-2 ct_text_black">Skin Condition<span
                                                            class="ct_red_text">*</span></label>
                                                <nz-select nzMode="multiple" nzPlaceHolder="Select Skin Conditions"
                                                      class="form-control ct_input h-auto"
                                                      formControlName="skin_condition"
                                                      nzNotFoundContent="No Severity Found">
                                                      @for (item of skinConditions; track item) {
                                                      <nz-option [nzLabel]="item.name"
                                                            [nzValue]="item.skin_condition_id"></nz-option>
                                                      }
                                                </nz-select>
                                                <span class="ct_text_red mt-2"
                                                      *ngIf="Form.get('skin_condition')?.invalid && Form.get('skin_condition')?.touched">
                                                      Please add at least one skin condition.
                                                </span>
                                          </div>
                                          <div class="mb-4">
                                                <label for="" class="mb-2 ct_text_black">Surgeries Provided<span
                                                            class="ct_red_text">*</span></label>
                                                <nz-select nzMode="multiple" nzPlaceHolder="Select Surgeries"
                                                      class="form-control ct_input h-auto" formControlName="surgeries"
                                                      nzNotFoundContent="No Severity Found">
                                                      @for (item of surgeries; track item) {
                                                      <nz-option [nzLabel]="item.english"
                                                            [nzValue]="item.surgery_id"></nz-option>
                                                      }
                                                </nz-select>
                                                <span class="ct_text_red mt-2"
                                                      *ngIf="Form.get('surgeries')?.invalid && Form.get('surgeries')?.touched">
                                                      Please add at least one surgery.
                                                </span>
                                          </div>
                                          <div class="mb-4">
                                                <label for="" class="mb-2 ct_text_black">Devices<span
                                                            class="ct_red_text">*</span></label>
                                                <nz-select nzMode="multiple" nzPlaceHolder="Select Devices"
                                                      class="form-control ct_input h-auto" formControlName="devices"
                                                      nzNotFoundContent="No Device Found">
                                                      @for (item of devices; track item) {
                                                      <nz-option [nzLabel]="item.device"
                                                            [nzValue]="item.aesthetic_device_id"></nz-option>
                                                      }
                                                </nz-select>
                                                <span class="ct_text_red mt-2"
                                                      *ngIf="Form.get('devices')?.invalid && Form.get('devices')?.touched">
                                                      Please add at least one device.
                                                </span>
                                          </div>
                                    </div>
                                    <button type="button" name="next" (click)="onSubmit()"
                                          class="ct_black_btn float-end mx-1  ct_border_radius_10 notranslate"
                                          [disabled]="loading">
                                          @if(loading){
                                          <div class="spinner-border" role="status">
                                                <span class="sr-only">Loading...</span>
                                          </div>
                                          }@else {
                                          Update
                                          }
                                    </button>
                                    <button type="button"
                                          class="ct_form_next action-button ct_black_btn float-end mx-1 ct_outline_btn"
                                          value="Next" (click)="previous()">Previous</button>
                                    <!-- <input type="button" name="previous"
                                          class="ct_form_next action-button  ct_black_btn float-end mx-1"
                                          value="Previous" (click)="previousStep()"> -->
                                    <!-- <div class="ct_form-card">
                                <div class="row">
                                    <div class="col-7">
                                        <h2 class="fs-title">Finish:</h2>
                                    </div>
                                    <div class="col-5">
                                        <h2 class="ct_multi_steps">Step 4 - 4</h2>
                                    </div>
                                </div> <br><br>
                                <h2 class="purple-text text-center"><strong>SUCCESS !</strong></h2> <br>
                                <div class="row justify-content-center">
                                    <div class="col-3"> <img src="https://i.imgur.com/GwStPmg.png" class="fit-image">
                                    </div>
                                </div> <br><br>
                                <div class="row justify-content-center">
                                    <div class="col-7 text-center">
                                        <h5 class="purple-text text-center">You Have Successfully Signed Up</h5>
                                    </div>
                                </div>
                            </div> -->
                              </fieldset>
                        </form>
                  </div>
            </div>
      </div>
</div>

<!-- Image preview Modal S -->
<div class="modal fade modal-md" id="full_view_img" tabindex="-1" aria-labelledby="full_view_imgLabel"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                  <div class="modal-header border-0 pb-0">
                        <h5 class="modal-title ct_fs_24 ct_ff_QuattrocentoSans ct_fw_700 mb-0" id="full_view_imgLabel">
                              Image Preview
                        </h5>
                        <button type="button" class="btn-close ct_custom_close_img" data-bs-dismiss="modal"
                              aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                        <div class="ct_full_view_img">
                              <img src="assets/img/user_3.png" alt="">
                        </div>
                  </div>

            </div>
      </div>
</div>