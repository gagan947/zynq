<div class="ct_px_30  mt-4 pb-4">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="d-flex align-items-center gap-3 mb-3">
                    <a (click)="location.back()" class="ct_back_icon"><i class="fa-solid fa-chevron-left"></i></a>
                    <h4 class="ct_fs_24 ct_black_text mb-0"><span class="ct_fw_600">{{'TreatmentManagement' |
                            translate}} </span>
                        <span class="ct_text_op_07 ct_fs_16"> /
                            {{'ViewTreatment' | translate}}</span>
                    </h4>
                </div>
                <form action="">
                    <div class="ct_white_bg ct_border_radius_10 ct_border_clr_D2D5DB ct_p_20 mt-4">
                        <h4 class="mb-3 ct_fs_20 ct_fw_600">{{treatmentData?.name}}
                            ({{treatmentData?.classification_type}})</h4>
                        <p class="mb-0 ct_grey_text">{{treatmentData?.description_en}}</p>
                    </div>

                    <div class="ct_white_bg ct_border_radius_10 ct_border_clr_D2D5DB ct_py_28_px_20 mt-4 pe-0">
                        <h4 class="mb-3 ct_fs_20 ct_fw_600">{{'concerns' | translate | titlecase}}</h4>
                        <div>
                            <ul
                                class="d-flex align-items-center gap-4 flex-wrap ct_para_scroll ct_custom_scroll ct_pe_30">
                                @for (item of treatmentData?.concerns; track $index) {
                                <li>
                                    <div class="d-flex align-items-center gap-2">
                                        <!-- <i class="fa-solid fa-check"></i> -->
                                        <label class="form-check-label mb-0" for="flexCheckDefault">
                                            {{item.concern_name}}
                                        </label>
                                    </div>
                                </li>
                                }
                            </ul>
                        </div>
                    </div>

                    <div class="ct_white_bg ct_border_radius_10 ct_border_clr_D2D5DB ct_py_28_px_20 mt-4">
                        <h4 class="mb-3 ct_fs_20 ct_fw_600">{{'Benefits' | translate}}</h4>
                        <div>
                            <ul
                                class="d-flex align-items-center gap-3 flex-wrap  ct_para_scroll ct_custom_scroll ct_pe_30">
                                @for (item of treatmentData?.benefits_en?.split(','); track $index) {
                                <li>
                                    <button class="ct_select_badge">{{ item }} </button>
                                </li>
                                }
                            </ul>
                        </div>
                    </div>
                    <div class="ct_white_bg ct_border_radius_10 ct_border_clr_D2D5DB ct_py_28_px_20 mt-4">
                        <h4 class="mb-3 ct_fs_20 ct_fw_600">{{'LikeWiseTerms' | translate}}</h4>
                        <div>
                            <ul
                                class="d-flex align-items-center gap-4 flex-wrap ct_para_scroll ct_custom_scroll ct_pe_30">
                                @for (item of treatmentData?.like_wise_terms?.split(','); track $index) {
                                <li>
                                    <div class="d-flex align-items-center gap-2">
                                        <!-- <i class="fa-solid fa-check"></i> -->
                                        <label class="form-check-label mb-0" for="flexCheckDefault">
                                            {{item}}
                                        </label>
                                    </div>
                                </li>
                                }
                            </ul>
                        </div>
                    </div>
                    @if(treatmentData?.is_device == 1){
                    <div class="ct_white_bg ct_border_radius_10 ct_border_clr_D2D5DB ct_py_28_px_20 mt-4">
                        <h4 class="mb-3 ct_fs_20 ct_fw_600">{{'Devices' | translate}}</h4>
                        <div>
                            <ul
                                class="d-flex align-items-center gap-4 flex-wrap ct_para_scroll ct_custom_scroll ct_pe_30">
                                @for (item of treatmentData?.device_name?.split(','); track $index) {
                                <li>
                                    <button class="ct_select_badge">{{item}} </button>
                                </li>
                                }
                            </ul>
                        </div>
                    </div>
                    }
                    @if(treatmentData?.sub_treatments.length > 0){
                    <div class="ct_white_bg ct_border_radius_10 ct_border_clr_D2D5DB ct_py_28_px_20 mt-4">
                        <h4 class="mb-3 ct_fs_20 ct_fw_600">{{'SubTreatments' | translate}}</h4>
                        <div>
                            <ul
                                class="d-flex align-items-center gap-4 flex-wrap ct_para_scroll ct_custom_scroll ct_pe_30">
                                @for (item of treatmentData?.sub_treatments; track $index) {
                                <li>
                                    <button class="ct_select_badge">{{item.name}} </button>
                                </li>
                                }
                            </ul>
                        </div>
                    </div>
                    }
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-md" id="ct_add_sub_treatment_modal" tabindex="-1"
    aria-labelledby="ct_add_sub_treatment_modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header border-0 pb-0">
                <button type="button" class="btn-close ct_custom_close_img" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">

                <h4 class="ct_fs_24 ct_fw_600">{{'Add' | translate}} {{'SubTreatment' | translate}}</h4>
                <form [formGroup]="Form" (ngSubmit)="onSubmit()" class="mt-4">
                    <div class="form-group">
                        <label for="" class="mb-2">{{'SubTreatmentName' | translate}}</label>
                        <input type="text" placeholder="{{'Enter' | translate}} {{'SubTreatmentName' | translate}}"
                            class="form-control ct_input" formControlName="name">
                        <span *ngIf="Form.controls['name'].invalid && Form.controls['name'].touched">
                            <span *ngIf="Form.controls['name'].errors?.['required']" class="ct_text_red mt-2">
                                {{'SubTreatmentName' | translate | titlecase}} {{'isRequired' | translate}}.
                            </span>
                        </span>
                    </div>
                    <div class="d-flex align-items-center gap-3 mt-4 justify-content-center">
                        <button data-bs-dismiss="modal" type="button" aria-label="Close"
                            class="ct_outline_btn px-5 py-2 w-100" #closeButton>{{'Cancel' | translate}}</button>
                        <button type="submit" class="ct_black_btn px-5 py-2 w-100">{{subTreatmentId ? ('Update' |
                            translate) : ('Add' | translate)}} </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modal-md" id="ct_delete_sub_treatment_modal" tabindex="-1"
    aria-labelledby="ct_delete_sub_treatment_modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header border-0 pb-0">
                <!-- <h5 class="modal-title ct_fs_24 ct_ff_QuattrocentoSans ct_fw_700 mb-0"
                            id="ct_unlink_modalLabel">
                            Image Preview
                        </h5> -->
                <button type="button" class="btn-close ct_custom_close_img" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <div class="ct_grey_icon_bg_48 ct_red_bg mx-auto mb-4">
                    <i class="fa-solid fa-trash text-white"></i>
                </div>
                <h4 class="ct_fs_24 ct_fw_600">{{'Delete' | translate}}</h4>
                <p class="mb-0">{{'areYouSureYouWantToDeleteThisSubTreatment' | translate}}</p>
                <div class="d-flex align-items-center gap-3 mt-4 justify-content-center ">
                    <button class="ct_outline_btn px-5 py-2 w-100" data-bs-dismiss="modal" aria-label="Close"
                        #closeButton2>{{'No' | translate}}</button>
                    <button class="ct_black_btn px-5 py-2 w-100" (click)="deleteSubTreatment()">{{'Yes' |
                        translate}}</button>
                </div>
            </div>
        </div>
    </div>
</div>