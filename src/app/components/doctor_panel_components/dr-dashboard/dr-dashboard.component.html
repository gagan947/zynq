<div class="ct_inner_header_bg mt-4 ct_px_30">
    <h4 class="ct_fs_24 ct_fw_600 mb-0 ct_black_text">Dashboard</h4>
</div>

<div class="ct_px_30 mt-4 pb-4">
    <div class="container-fluid">
        <div class="row">
            <div class="col-xxl-3 col-xl-6 col-lg-6 mb-4" routerLink="/doctor/patient-records">
                <div class="ct_white_bg ct_py_28_px_20 ct_dash_card ct_border_radius_10 ct_border_clr_D2D5DB">
                    <div>
                        <h3 class="ct_fw_600 ct_fs_28 mb-1 ct_text_black">{{dashboardData.total_patients || 0}}</h3>
                        <p class="mb-0">Total Patients</p>
                    </div>
                    <div class="ct_dash_icon">
                        <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_189_526)">
                                <path
                                    d="M23.3375 13.9495C23.2784 13.9939 23.2112 14.0261 23.1396 14.0445C23.068 14.0628 22.9936 14.0668 22.9205 14.0564C22.8473 14.0459 22.777 14.0212 22.7134 13.9836C22.6498 13.9459 22.5943 13.8961 22.55 13.837C22.0806 13.206 21.4696 12.694 20.7661 12.3423C20.0627 11.9906 19.2865 11.809 18.5 11.812C18.3508 11.812 18.2077 11.7528 18.1023 11.6473C17.9968 11.5418 17.9375 11.3987 17.9375 11.2495C17.9375 11.1004 17.9968 10.9573 18.1023 10.8518C18.2077 10.7463 18.3508 10.687 18.5 10.687C18.9559 10.687 19.4026 10.559 19.7894 10.3178C20.1762 10.0765 20.4876 9.73164 20.6882 9.32229C20.8889 8.91294 20.9707 8.45553 20.9244 8.00201C20.8781 7.5485 20.7055 7.11705 20.4263 6.75668C20.1471 6.39632 19.7725 6.12147 19.3449 5.96335C18.9173 5.80524 18.454 5.7702 18.0075 5.86222C17.561 5.95424 17.1492 6.16962 16.819 6.4839C16.4888 6.79819 16.2533 7.19878 16.1394 7.64017C16.1021 7.78463 16.0089 7.90836 15.8804 7.98414C15.7519 8.05992 15.5985 8.08153 15.4541 8.04424C15.3096 8.00694 15.1859 7.91379 15.1101 7.78526C15.0343 7.65674 15.0127 7.50338 15.05 7.35892C15.1914 6.80902 15.4622 6.30087 15.8398 5.87684C16.2174 5.4528 16.6909 5.12517 17.2208 4.92125C17.7507 4.71732 18.3217 4.64301 18.8861 4.70451C19.4506 4.76601 19.9922 4.96154 20.4657 5.2748C20.9393 5.58806 21.3311 6.00997 21.6086 6.50537C21.886 7.00077 22.041 7.55531 22.0606 8.12277C22.0803 8.69022 21.964 9.25415 21.7215 9.76756C21.479 10.281 21.1173 10.729 20.6666 11.0742C21.7757 11.4882 22.7421 12.2131 23.45 13.162C23.4943 13.2211 23.5266 13.2884 23.5449 13.3599C23.5632 13.4315 23.5673 13.506 23.5568 13.5791C23.5464 13.6522 23.5217 13.7226 23.484 13.7861C23.4464 13.8497 23.3966 13.9052 23.3375 13.9495ZM18.2366 19.9683C18.2736 20.0323 18.2976 20.1029 18.3073 20.1761C18.3171 20.2494 18.3122 20.3238 18.2932 20.3952C18.2741 20.4666 18.2412 20.5335 18.1962 20.5922C18.1513 20.6508 18.0952 20.7001 18.0312 20.737C17.946 20.787 17.8489 20.8133 17.75 20.813C17.6512 20.813 17.5541 20.7871 17.4685 20.7377C17.383 20.6883 17.3119 20.6173 17.2625 20.5317C16.7736 19.7033 16.077 19.0168 15.2417 18.5398C14.4063 18.0628 13.461 17.812 12.4991 17.812C11.5371 17.812 10.5918 18.0628 9.75646 18.5398C8.9211 19.0168 8.22457 19.7033 7.73563 20.5317C7.70046 20.599 7.65206 20.6584 7.59334 20.7064C7.53462 20.7544 7.46679 20.7901 7.39393 20.8112C7.32107 20.8324 7.24469 20.8385 7.16937 20.8294C7.09406 20.8203 7.02138 20.796 6.9557 20.758C6.89002 20.72 6.8327 20.6692 6.78719 20.6085C6.74167 20.5478 6.7089 20.4785 6.69085 20.4048C6.6728 20.3311 6.66985 20.2546 6.68216 20.1797C6.69447 20.1049 6.7218 20.0333 6.7625 19.9692C7.52866 18.6528 8.72827 17.6435 10.1562 17.1136C9.37621 16.6071 8.7808 15.8621 8.45884 14.9895C8.13687 14.117 8.10562 13.1638 8.36972 12.272C8.63383 11.3802 9.17915 10.5978 9.92434 10.0413C10.6695 9.4848 11.5746 9.18414 12.5047 9.18414C13.4347 9.18414 14.3399 9.4848 15.085 10.0413C15.8302 10.5978 16.3755 11.3802 16.6397 12.272C16.9038 13.1638 16.8725 14.117 16.5505 14.9895C16.2286 15.8621 15.6332 16.6071 14.8531 17.1136C16.2771 17.6453 17.4728 18.6541 18.2366 19.9683ZM12.5 16.687C13.1304 16.687 13.7467 16.5001 14.2709 16.1499C14.7951 15.7996 15.2036 15.3018 15.4449 14.7194C15.6861 14.1369 15.7492 13.496 15.6263 12.8777C15.5033 12.2594 15.1997 11.6914 14.7539 11.2456C14.3081 10.7999 13.7402 10.4963 13.1219 10.3733C12.5035 10.2503 11.8626 10.3134 11.2802 10.5547C10.6978 10.7959 10.1999 11.2045 9.84969 11.7287C9.49944 12.2529 9.3125 12.8691 9.3125 13.4995C9.3125 14.3449 9.64832 15.1557 10.2461 15.7535C10.8439 16.3512 11.6546 16.687 12.5 16.687ZM7.0625 11.2495C7.0625 11.1004 7.00324 10.9573 6.89775 10.8518C6.79226 10.7463 6.64918 10.687 6.5 10.687C6.04418 10.6869 5.59753 10.559 5.21078 10.3177C4.82402 10.0765 4.51266 9.73164 4.31204 9.32234C4.11143 8.91304 4.0296 8.45569 4.07585 8.00222C4.1221 7.54875 4.29458 7.11734 4.57369 6.75697C4.85281 6.3966 5.22738 6.12172 5.65488 5.96353C6.08237 5.80535 6.54565 5.7702 6.99212 5.86209C7.43858 5.95397 7.85034 6.1692 8.18062 6.48334C8.51091 6.79748 8.74649 7.19794 8.86063 7.63924C8.87909 7.71077 8.91147 7.77796 8.9559 7.83698C9.00034 7.89599 9.05596 7.94568 9.1196 7.9832C9.18323 8.02072 9.25364 8.04534 9.32679 8.05565C9.39994 8.06596 9.47441 8.06177 9.54594 8.0433C9.61747 8.02483 9.68466 7.99246 9.74368 7.94802C9.80269 7.90359 9.85238 7.84796 9.8899 7.78433C9.92742 7.72069 9.95204 7.65029 9.96235 7.57713C9.97266 7.50398 9.96847 7.42952 9.95 7.35799C9.80861 6.80808 9.53782 6.29993 9.16021 5.8759C8.78261 5.45187 8.30911 5.12423 7.7792 4.92031C7.24929 4.71639 6.67831 4.64208 6.11386 4.70358C5.5494 4.76508 5.00782 4.9606 4.53426 5.27386C4.0607 5.58712 3.66887 6.00903 3.39144 6.50443C3.11401 6.99984 2.95901 7.55437 2.93936 8.12183C2.91971 8.68928 3.03598 9.25322 3.27848 9.76662C3.52098 10.28 3.88268 10.728 4.33344 11.0733C3.22414 11.4875 2.25775 12.2127 1.55 13.162C1.50568 13.2211 1.47343 13.2884 1.4551 13.3599C1.43677 13.4315 1.43271 13.506 1.44315 13.5791C1.4536 13.6522 1.47835 13.7226 1.51598 13.7861C1.55362 13.8497 1.60341 13.9052 1.6625 13.9495C1.72159 13.9939 1.78884 14.0261 1.8604 14.0445C1.93196 14.0628 2.00642 14.0668 2.07955 14.0564C2.15268 14.0459 2.22303 14.0212 2.28659 13.9836C2.35015 13.9459 2.40568 13.8961 2.45 13.837C2.91941 13.206 3.53044 12.694 4.23388 12.3423C4.93733 11.9906 5.71353 11.809 6.5 11.812C6.64918 11.812 6.79226 11.7528 6.89775 11.6473C7.00324 11.5418 7.0625 11.3987 7.0625 11.2495Z"
                                    fill="white" />
                            </g>
                            <defs>
                                <clipPath id="clip0_189_526">
                                    <rect width="24" height="24" fill="white" transform="translate(0.5)" />
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="col-xxl-3 col-xl-6 col-lg-6 mb-4" routerLink="/doctor/appointments">
                <div class="ct_white_bg ct_py_28_px_20 ct_dash_card ct_border_radius_10 ct_border_clr_D2D5DB">
                    <div>
                        <h3 class="ct_fw_600 ct_fs_28 mb-1 ct_text_black">{{dashboardData.total_appointments || 0}}</h3>
                        <p class="mb-0">Total Appointments</p>
                    </div>
                    <div class="ct_dash_icon">
                        <svg width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_225_11950)">
                                <path
                                    d="M2.64244 2.8577C2.26356 2.8577 1.9002 3.00821 1.63229 3.27612C1.36438 3.54403 1.21387 3.90739 1.21387 4.28627V17.8577C1.21387 18.2366 1.36438 18.5999 1.63229 18.8679C1.9002 19.1358 2.26356 19.2863 2.64244 19.2863H18.3567C18.7356 19.2863 19.099 19.1358 19.3669 18.8679C19.6348 18.5999 19.7853 18.2366 19.7853 17.8577V4.28627C19.7853 3.90739 19.6348 3.54403 19.3669 3.27612C19.099 3.00821 18.7356 2.8577 18.3567 2.8577H15.4996M5.49958 0.714844V5.00056M15.4996 0.714844V5.00056M5.49958 2.8577H12.6424"
                                    stroke="white" stroke-width="1.42857" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path
                                    d="M9.33941 6.51953C9.14997 6.51953 8.96829 6.59479 8.83434 6.72874C8.70038 6.8627 8.62513 7.04438 8.62513 7.23382V9.24239H6.6137C6.42426 9.24239 6.24258 9.31764 6.10862 9.4516C5.97467 9.58555 5.89941 9.76723 5.89941 9.95667V12.2781C5.89941 12.4675 5.97467 12.6492 6.10862 12.7832C6.24258 12.9171 6.42426 12.9924 6.6137 12.9924H8.6237V15.001C8.6237 15.1904 8.69895 15.3721 8.83291 15.506C8.96686 15.64 9.14855 15.7152 9.33799 15.7152H11.6594C11.7532 15.7152 11.8461 15.6968 11.9328 15.6609C12.0194 15.625 12.0982 15.5724 12.1645 15.506C12.2308 15.4397 12.2834 15.361 12.3193 15.2743C12.3552 15.1876 12.3737 15.0948 12.3737 15.001V12.9924H14.3823C14.5717 12.9924 14.7534 12.9171 14.8873 12.7832C15.0213 12.6492 15.0966 12.4675 15.0966 12.2781V9.95667C15.0966 9.76723 15.0213 9.58555 14.8873 9.4516C14.7534 9.31764 14.5717 9.24239 14.3823 9.24239H12.3751V7.23382C12.3751 7.04438 12.2999 6.8627 12.1659 6.72874C12.032 6.59479 11.8503 6.51953 11.6608 6.51953H9.33941Z"
                                    stroke="white" stroke-width="1.42857" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </g>
                            <defs>
                                <clipPath id="clip0_225_11950">
                                    <rect width="20" height="20" fill="white" transform="translate(0.5)" />
                                </clipPath>
                            </defs>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="col-xxl-3 col-xl-6 col-lg-6 mb-4" routerLink="/doctor/earning-analytics">
                <div class="ct_white_bg ct_py_28_px_20 ct_dash_card ct_border_radius_10 ct_border_clr_D2D5DB">
                    <div class="ct_white_nowrap">
                        <h3 class="ct_fw_600 ct_fs_28 mb-1 ct_text_black">
                            {{dashboardData.clinic_appointment_earnings || 0 | currency:'SEK '}}
                        </h3>
                        <p class="mb-0">Total Earnings</p>
                    </div>
                    <div class="ct_dash_icon">
                        <svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M4.97669 5.315C7.38469 6.245 10.2782 6.245 12.6857 5.314C13.734 6.42022 14.6033 7.68325 15.2622 9.0575C15.6982 9.1245 16.1157 9.2475 16.5072 9.419C15.7937 7.597 14.5867 5.826 13.2892 4.5L15.1362 1.8C14.8341 1.60329 14.519 1.42722 14.1932 1.273C12.9732 0.6805 11.0137 0 8.85569 0C6.65269 0 4.64019 0.71 3.41269 1.3105C3.29069 1.3705 3.17669 1.42883 3.07069 1.4855C2.85719 1.6005 2.67719 1.7075 2.53619 1.8L4.37019 4.5C0.0751925 9.019 -3.12481 17.9985 8.85569 17.9985C9.67578 18.0029 10.4953 17.9528 11.3087 17.8485C10.9861 17.5812 10.6983 17.2745 10.4522 16.9355C9.96153 16.9768 9.42936 16.9978 8.85569 16.9985C5.96319 16.9985 4.14919 16.453 3.06569 15.703C2.02819 14.9845 1.57269 14.018 1.50819 12.887C1.44119 11.712 1.80069 10.3405 2.47419 8.952C3.11669 7.628 4.01369 6.3535 4.97669 5.315ZM12.1022 4.464L13.5812 2.3025C12.2062 2.4015 10.5697 2.7245 8.99469 3.1805C7.86969 3.5055 6.62019 3.456 5.46219 3.2425C5.17049 3.18849 4.88081 3.12412 4.59369 3.0495L5.55369 4.463C7.61169 5.1955 10.0447 5.1955 12.1022 4.464ZM4.40219 1.958C4.80219 2.077 5.21969 2.1805 5.64369 2.259C6.71869 2.457 7.79719 2.486 8.71669 2.2195C9.78877 1.90705 10.8792 1.66141 11.9817 1.484C11.0617 1.207 9.98619 1 8.85519 1C7.13269 1 5.52669 1.4805 4.40219 1.958Z"
                                fill="white" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M8.83496 11C9.34546 11 9.81146 11.1915 10.165 11.5065C9.97842 11.8306 9.82881 12.1746 9.71896 12.532C9.63388 12.3713 9.50663 12.2369 9.35087 12.1432C9.19511 12.0495 9.01675 12 8.83496 12V14C9.09346 14 9.32896 13.902 9.50646 13.741C9.48685 14.115 9.50933 14.49 9.57346 14.859C9.33842 14.9523 9.08783 15.0001 8.83496 15V15.5H7.83496V15C7.42129 15.0001 7.01777 14.8719 6.68 14.633C6.34223 14.3942 6.08682 14.0565 5.94896 13.6665C5.9048 13.5415 5.91213 13.404 5.96933 13.2843C6.02653 13.1647 6.12891 13.0727 6.25396 13.0285C6.37901 12.9843 6.51648 12.9917 6.63613 13.0489C6.75578 13.1061 6.8478 13.2085 6.89196 13.3335C6.96093 13.5285 7.08865 13.6973 7.25754 13.8166C7.42642 13.936 7.62815 14.0001 7.83496 14V12C7.30453 12 6.79582 11.7893 6.42075 11.4142C6.04568 11.0391 5.83496 10.5304 5.83496 10C5.83496 9.46957 6.04568 8.96086 6.42075 8.58579C6.79582 8.21071 7.30453 8 7.83496 8V7.5H8.83496V8C9.24864 7.99993 9.65215 8.12814 9.98992 8.36696C10.3277 8.60579 10.5831 8.94347 10.721 9.3335C10.7428 9.39542 10.7523 9.46104 10.7488 9.52661C10.7453 9.59218 10.7289 9.65642 10.7006 9.71567C10.6723 9.77491 10.6326 9.828 10.5837 9.87189C10.5349 9.91579 10.4779 9.94964 10.416 9.9715C10.354 9.99337 10.2884 10.0028 10.2229 9.99933C10.1573 9.99583 10.093 9.97946 10.0338 9.95113C9.97455 9.92281 9.92146 9.8831 9.87757 9.83426C9.83367 9.78542 9.79983 9.72842 9.77796 9.6665C9.70899 9.47153 9.58127 9.30274 9.41239 9.18338C9.2435 9.06402 9.04177 8.99995 8.83496 9V11ZM7.83496 9C7.56974 9 7.31539 9.10536 7.12785 9.29289C6.94032 9.48043 6.83496 9.73478 6.83496 10C6.83496 10.2652 6.94032 10.5196 7.12785 10.7071C7.31539 10.8946 7.56974 11 7.83496 11V9Z"
                                fill="white" />
                            <path
                                d="M15.0003 14.21L15.5953 13.6765L16.2628 14.4215L14.5003 16.0005L12.7383 14.4205L13.4058 13.676L14.0003 14.2095V12H15.0003V14.21Z"
                                fill="white" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M14.5 18C15.5609 18 16.5783 17.5786 17.3284 16.8284C18.0786 16.0783 18.5 15.0609 18.5 14C18.5 12.9391 18.0786 11.9217 17.3284 11.1716C16.5783 10.4214 15.5609 10 14.5 10C13.4391 10 12.4217 10.4214 11.6716 11.1716C10.9214 11.9217 10.5 12.9391 10.5 14C10.5 15.0609 10.9214 16.0783 11.6716 16.8284C12.4217 17.5786 13.4391 18 14.5 18ZM14.5 17C15.2956 17 16.0587 16.6839 16.6213 16.1213C17.1839 15.5587 17.5 14.7956 17.5 14C17.5 13.2044 17.1839 12.4413 16.6213 11.8787C16.0587 11.3161 15.2956 11 14.5 11C13.7044 11 12.9413 11.3161 12.3787 11.8787C11.8161 12.4413 11.5 13.2044 11.5 14C11.5 14.7956 11.8161 15.5587 12.3787 16.1213C12.9413 16.6839 13.7044 17 14.5 17Z"
                                fill="white" />
                        </svg>
                    </div>
                </div>
            </div>

            <div class="col-xxl-3 col-xl-6 col-lg-6 mb-4" routerLink="/doctor/ratings-reviews">
                <div class="ct_white_bg ct_py_28_px_20 ct_dash_card ct_border_radius_10 ct_border_clr_D2D5DB">
                    <div>
                        <h3 class="ct_fw_600 ct_fs_28 mb-1 ct_text_black">{{dashboardData.average_rating || 0}}</h3>
                        <p class="mb-0">Average Rating</p>
                    </div>
                    <div class="ct_dash_icon">
                        <svg width="19" height="16" viewBox="0 0 19 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M9.5 9.167L11.17 10.183C11.314 10.2737 11.4587 10.2663 11.604 10.161C11.7487 10.055 11.8027 9.913 11.766 9.735L11.323 7.848L12.793 6.585C12.933 6.46033 12.9763 6.31633 12.923 6.153C12.8697 5.98967 12.7517 5.89967 12.569 5.883L10.633 5.708L9.873 3.927C9.80233 3.765 9.678 3.684 9.5 3.684C9.322 3.684 9.19767 3.765 9.127 3.927L8.367 5.707L6.431 5.883C6.249 5.89967 6.131 5.98967 6.077 6.153C6.023 6.31633 6.06633 6.46033 6.207 6.585L7.677 7.848L7.235 9.734C7.19767 9.91267 7.25133 10.055 7.396 10.161C7.54067 10.267 7.68567 10.2743 7.831 10.183L9.5 9.167ZM3.577 14L1.873 15.704C1.62033 15.9567 1.32833 16.0147 0.997 15.878C0.665667 15.7413 0.5 15.493 0.5 15.133V1.616C0.5 1.15533 0.654333 0.771 0.963 0.463C1.27167 0.155 1.656 0.000666667 2.116 0H16.885C17.345 0 17.7293 0.154333 18.038 0.463C18.3467 0.771667 18.5007 1.156 18.5 1.616V12.385C18.5 12.845 18.346 13.2293 18.038 13.538C17.73 13.8467 17.3457 14.0007 16.885 14H3.577ZM3.15 13H16.885C17.0383 13 17.1793 12.936 17.308 12.808C17.4367 12.68 17.5007 12.539 17.5 12.385V1.615C17.5 1.46167 17.436 1.32067 17.308 1.192C17.18 1.06333 17.039 0.999333 16.885 1H2.115C1.96167 1 1.82067 1.064 1.692 1.192C1.56333 1.32 1.49933 1.461 1.5 1.615V14.645L3.15 13Z"
                                fill="white" />
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        @if(appointments$ | async; as appointments){
        <div class="row">
            <div class="col-md-12">
                <h4 class="ct_fs_20 ct_fw_600 mb-3">Today’s Appointments</h4>
                <div class="table-responsive mt-4 ct_custom_table">
                    <table class="table ">
                        <thead>
                            <tr>
                                <th>S.No</th>
                                <!-- <th>Doctor Name</th> -->
                                <th>Patient Name</th>
                                <th>Contact Number</th>
                                <th>Start Time</th>
                                <th>End Time</th>
                                <th>Clinic Name</th>
                                <th>Type</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if(appointment.length == 0){
                            <tr>
                                <td colspan="7" class="text-center">No data found</td>
                            </tr>
                            }
                            @for (item of appointment; track $index) {
                            <tr>
                                <td>{{$index + 1}}</td>
                                <!-- <td>Dr. John Smith</td> -->
                                <td class="notranslate">{{item.full_name}}</td>
                                <td>{{item.mobile_number}}</td>
                                <td>
                                    <p class="mb-1">
                                        {{item.start_time | date:'dd-MM-yyyy - HH:mm a'}}
                                    </p>
                                </td>
                                <td>
                                    <p class="mb-0">
                                        {{item.end_time | date:'dd-MM-yyyy - HH:mm a'}}
                                    </p>
                                </td>
                                <td class="notranslate">{{item.clinic_name || 'N/A'}}</td>
                                <td>{{item.type || 'N/A'}}</td>
                                <td>
                                    <div class="d-flex align-items-center gap-3">
                                        <a (click)="viewDetails(item)" title="View Details"><i
                                                class="fa-regular fa-eye text-primary"></i></a>
                                    </div>
                                </td>
                            </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        }
    </div>
</div>